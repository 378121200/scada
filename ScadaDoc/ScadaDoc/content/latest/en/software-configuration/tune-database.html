<!DOCTYPE html>
<html>
<head>
    <title>Tune Up Configuration Database - Rapid SCADA Documentation</title>
    <meta charset="utf-8" />
    <link href="../../../../css/scadadoc.min.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../../../../lib/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="../js/contents.js"></script>
    <script type="text/javascript" src="../../../../js/scadadoc.js"></script>
</head>
<body>
    <h1>Tune Up Configuration Database</h1>

    <h2>Configuration Database Structure</h2>

    <p>The configuration database is a structured description of the entire automated system. The applications included in Rapid SCADA use the information from the configuration database in conjunction with their settings.</p>

    <p>The configuration database is edited using the Administrator application as part of a project. The edited instance of the configuration database is in XML file format. When a project is uploaded to a server for execution, the configuration database is converted into a special DAT format.</p>

    <p>The configuration database consists of tables, which in turn are composed of columns and rows. Each table belongs to one of the following groups:</p>

    <ol>
        <li><em>System.</em> This group contains the tables which define a configuration of a particular automated system.</li>
        <li><em>Dictionaries</em>. This group contains the auxiliary tables. In most cases changing of these tables is not needed.</li>
    </ol>

    <p>The following table describes the configuration database tables.</p>

    <table class="sd-article-table">
        <tr>
            <th>Table Name</th>
            <th>Description</th>
        </tr>
        <tr>
            <td colspan="2"><strong>System Group</strong></td>
        </tr>
        <tr>
            <td><em>Objects</em></td>
            <td>Contains logical objects that are used to structure information in the system. Objects can be interpreted as locations</td>
        </tr>
        <tr>
            <td><em>Communication lines</em></td>
            <td>Describes communication lines which are used to exchange data with devices</td>
        </tr>
        <tr>
            <td><em>Devices</em></td>
            <td>Contains real or virtual devices</td>
        </tr>
        <tr>
            <td><em>Input channels</em></td>
            <td>Defines data received from the devices and calculated data</td>
        </tr>
        <tr>
            <td><em>Output channels</em></td>
            <td>Specifies commands executed by the system</td>
        </tr>
        <tr>
            <td><em>Roles</em></td>
            <td>Contains roles. Each role defines a set of functions available to a user</td>
        </tr>
        <tr>
            <td><em>Users</em></td>
            <td>Contains a list of users of the system and their roles</td>
        </tr>
        <tr>
            <td><em>Interface</em></td>
            <td>Contains descriptions of interface objects (views, reports and data windows)</td>
        </tr>
        <tr>
            <td><em>Rights</em></td>
            <td>Defines rights to interface objects by roles</td>
        </tr>
        <tr>
            <td colspan="2"><strong>Dictionaries Group</strong></td>
        </tr>
        <tr>
            <td><em>Channel types</em></td>
            <td>Dictionary of input channel types</td>
        </tr>
        <tr>
            <td><em>Command types</em></td>
            <td>Dictionary of command types used by output channels</td>
        </tr>
        <tr>
            <td><em>Event types</em></td>
            <td>Dictionary of system event types and statuses of input channels in the archive</td>
        </tr>
        <tr>
            <td><em>Device types</em></td>
            <td>Dictionary of device types that can be connected to the system</td>
        </tr>
        <tr>
            <td><em>Quantities</em></td>
            <td>Dictionary of measured quantities</td>
        </tr>
        <tr>
            <td><em>Units</em></td>
            <td>Dictionary of units of input channel values and enumerable values of input channels</td>
        </tr>
        <tr>
            <td><em>Command values</em></td>
            <td>Dictionary of enumerable command values which are transmitted by output channels</td>
        </tr>
        <tr>
            <td><em>Number formats</em></td>
            <td>Dictionary of formats which are used to display input channel values</td>
        </tr>
        <tr>
            <td><em>Formulas</em></td>
            <td>Dictionary of formulas used in calculation of input channel data and command values of output channels</td>
        </tr>
    </table>

    <h2>Editing Configuration Database</h2>

    <p>The configuration database tables have relations with each other, that is, a cell of one table can refer to a record of another table. For example, each device refers to the communication line to which it is connected. Therefore, it is efficient to edit tables in a certain sequence. For tables from the <em>System</em> group, enter data in order starting with the <em>Objects</em> table and ending by the <em>Rights</em> table.</p>

    <p>При добавлении линий связи и КП рекомендуется использовать мастеры, которые вызываются с помощью кнопок <img src="../../common-images/add_line.png" /> и <img src="../../common-images/add_device.png" />. Использование мастера позволяет не только добавить запись в таблицу базы конфигурации, но также создать соответствующую сущность в настройках Коммуникатора. Для создания входных каналов и каналов управления предназначен мастер, вызываемый кнопкой <img src="../../common-images/create_cnls.png" />. Однако автоматическое создание каналов должно поддерживаться используемыми драйверами КП, иначе каналы необходимо прописать вручную.</p>

    <p>Если на панели инструментов таблицы отображается кнопка <img src="../../common-images/props.png" />, значит для данной таблицы доступно редактирование записей с помощью формы. Формы для редактирования свойств канала показаны на рис. 1 и 2.</p>

    <p class="sd-article-image">
        <img src="tune-database-files/in_cnl_props_en.png" alt="Input channel properties" /><br />
        Figure 1. Input channel properties
    </p>

    <p class="sd-article-image">
        <img src="tune-database-files/out_cnl_props_en.png" alt="Output channel properties" /><br />
        Figure 2. Output channel properties
    </p>

    <p>Создание базы конфигурации можно значительно ускорить, если использовать сделанные ранее наработки. Для обмена информацией между различными базами программа Администратор имеет функции <em>Импортировать таблицу</em> и <em>Экспортировать таблицу</em>  (рис. 3 и 4), которые вызываются из меню <em>Файл</em>. Таблицы экспортируются в файлы формата DAT, XML и CSV. Затем информация может быть импортирована из файлов формата DAT и XML в тот же самый или другой проект. Существует возможность ограничить перечень выгружаемых и закачиваемых данных, задав начальный и конечный идентификаторы. Кроме того, если при импорте назначить новый начальный идентификатор, то импорт данных выполнится со смещением идентификаторов.</p>

    <p class="sd-article-image">
        <img src="tune-database-files/admin_import_table_en.png" alt="Import table" /><br />
        Figure 3. Import table
    </p>

    <p class="sd-article-image">
        <img src="tune-database-files/admin_export_table_en.png" alt="Export table" /><br />
        Figure 4. Export table
    </p>

    <p>Для входных каналов и каналов управления доступен инструмент клонирования (рис. 5). На форме параметров клонирования необходимо задать исходные номера и номера назначения каналов. Также можно выбрать новый объект и КП для клонированных каналов. Функция обновления номеров каналов в формулах работает, если номер канала используется в следующих функциях: N(), Val(), Stat(), SetVal(), SetStat() и SetData().</p>

    <p class="sd-article-image">
        <img src="tune-database-files/admin_clone_cnls_en.png" alt="Channel cloning" /><br />
        Figure 5. Channel cloning
    </p>

    <p>Для ячеек таблицы доступны функции копирования (Ctrl + C) и вставки (Ctrl + V). Если щёлкнуть по заголовку столбца, строки таблицы отсортируются по значениям данного столбца. Функция поиска и замены (Ctrl + F) также позволяет ускорить редактирование.</p>
</body>
</html>
